{"version":3,"sources":["webpack:///./src/views/radio/index.vue?d1f0","webpack:///./src/components/page/page.vue?fa58","webpack:///src/components/page/page.vue","webpack:///./src/components/page/page.vue?d260","webpack:///./src/components/page/page.vue","webpack:///src/views/radio/index.vue","webpack:///./src/views/radio/index.vue?1f7c","webpack:///./src/views/radio/index.vue","webpack:///./src/components/page/page.vue?7b15"],"names":["render","_vm","this","_h","$createElement","_c","_self","totalTime","staticStyle","_v","_s","playData","name","broadcast_date","attrs","audio","duration","parseInt","on","changeTime","model","value","callback","$$v","timeNow","expression","_f","tui","curt","isPaused","kuai","_e","formData","$event","loadType","$set","_l","item","key","loadData","channelId","programName","dataList","scopedSlots","_u","fn","scope","play","row","pagination","staticRenderFns","staticClass","total","layout","pageSize","pageNum","pageSizeList","handleCurrentChange","handleSizeChange","components","props","type","Object","default","Array","data","computed","methods","val","$emit","backToTop","interval","setInterval","next","window","scrollTo","clearInterval","i","easeInOutQuad","t","d","mounted","created","component","page","channeList","channeName","optionsList","$jsonp","channel_id","needPageOne","channelname","start","rows","console","log","res","downLoad","downLoadFileReName","stream_url1","xhr","open","url","responseType","onload","status","blob","response","navigator","msSaveOrOpenBlob","msSaveBlob","filename","link","href","URL","createObjectURL","download","style","display","body","appendChild","click","removeChild","revokeObjectURL","send","Audio","addEventListener","id","src","time","currentTime","pause","filters","formTime","activated"],"mappings":"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","file":"static/js/chunk-807a2aa4.1a9fd220.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.totalTime>0)?_c('el-card',{staticStyle:{\"margin\":\"10px 0\"}},[_c('span',[_vm._v(_vm._s(_vm.playData.name + \"\\t\" + _vm.playData.broadcast_date))]),_c('el-slider',{attrs:{\"max\":this.audio&&this.audio.duration&&parseInt(this.audio.duration)},on:{\"change\":_vm.changeTime},model:{value:(_vm.timeNow),callback:function ($$v) {_vm.timeNow=$$v},expression:\"timeNow\"}}),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('span',[_vm._v(_vm._s(_vm._f(\"formTime\")(parseInt(_vm.timeNow))))])]),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":4}},[_c('span',[_vm._v(_vm._s(_vm._f(\"formTime\")(parseInt(_vm.totalTime))))])])],1),_c('el-row',{staticStyle:{\"margin-top\":\"5px\"}},[_c('el-col',[_c('el-button',{on:{\"click\":_vm.tui}},[_vm._v(\"快退\")]),_c('el-button',{on:{\"click\":_vm.curt}},[_vm._v(_vm._s(_vm.isPaused ? '开始' : '暂停'))]),_c('el-button',{on:{\"click\":_vm.kuai}},[_vm._v(\"快进\")])],1)],1)],1):_vm._e(),_c('el-card',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-form',{attrs:{\"model\":_vm.formData}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"频道：\"}},[_c('el-select',{on:{\"change\":function($event){return _vm.loadType()}},model:{value:(_vm.formData.channeName),callback:function ($$v) {_vm.$set(_vm.formData, \"channeName\", $$v)},expression:\"formData.channeName\"}},_vm._l((_vm.channeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"节目名称：\"}},[_c('el-select',{on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}},_vm._l((_vm.optionsList),function(item){return _c('el-option',{key:item.channelId,attrs:{\"label\":item.programName,\"value\":item.channelId}})}),1)],1)],1)],1)],1)],1),_c('el-card',[_c('el-table',{attrs:{\"data\":_vm.dataList}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"channel_name\",\"label\":\"频道\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":\"节目名称\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"broadcast_date\",\"label\":\"日期\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.play(scope.row)}}},[_vm._v(\"播放\")])]}}])})],1),_c('page',{attrs:{\"pagination\":_vm.pagination},on:{\"refresh\":_vm.loadData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[(_vm.pagination.total>0)?_c('el-pagination',{staticStyle:{\"text-align\":\"right\"},attrs:{\"background\":\"\",\"layout\":_vm.layout,\"page-size\":_vm.pagination.pageSize,\"current-page\":_vm.pagination.pageNum,\"page-sizes\":_vm.pageSizeList,\"total\":_vm.pagination.total},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange,\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"pageNum\", $event)}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n* create by zhangxiang on 2021-01-14 09:41\r\n* 类注释：分页\r\n* 备注：\r\n*/\r\n<template>\r\n  <div class=\"page\">\r\n    <el-pagination\r\n        v-if=\"pagination.total>0\"\r\n        style=\"text-align: right\"\r\n        background\r\n        :layout=\"layout\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :page-size=\"pagination.pageSize\"\r\n        @size-change=\"handleSizeChange\"\r\n        :current-page.sync=\"pagination.pageNum\"\r\n        :page-sizes=\"pageSizeList\"\r\n        :total=\"pagination.total\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n\r\nexport default {\r\n  name: 'page',\r\n  components: {},\r\n  props: {\r\n    // 分页数据\r\n    pagination: {\r\n      type: Object,\r\n      default: () => ({pageSize: 10, pageNum: 1, total: 0}),\r\n    },\r\n    pageSizeList: {\r\n      type: Array,\r\n      default: () => [10, 20, 30, 50, 100,500],\r\n    },\r\n    layout: {type: String, default: 'total,prev,pager,next,sizes,jumper'},\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    handleCurrentChange(val) {\r\n      this.pagination.pageNum = val\r\n      this.$emit('refresh', true)\r\n      this.backToTop()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pagination.pageSize = val\r\n      this.pagination.pageNum = 1\r\n      this.$emit('refresh', true)\r\n      this.backToTop()\r\n    },\r\n    backToTop() {\r\n      const start = window.pageYOffset\r\n      let i = 0\r\n      this.interval = setInterval(() => {\r\n        const next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500))\r\n        if (next <= 0) {\r\n          window.scrollTo(0, 0)\r\n          clearInterval(this.interval)\r\n        } else {\r\n          window.scrollTo(0, next)\r\n        }\r\n        i++\r\n      }, 16)\r\n    },\r\n    easeInOutQuad(t, b, c, d) {\r\n      if ((t /= d / 2) < 1) return (c / 2) * t * t + b\r\n      return (-c / 2) * (--t * (t - 2) - 1) + b\r\n    },\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.page {\r\n  background-color: white;\r\n  padding: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=673933f8&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n* create by zhangxiang on 2021-01-21 09:33\r\n* 类注释：\r\n* 备注：\r\n*/\r\n<template>\r\n  <div>\r\n    <el-card style=\"margin: 10px 0;\" v-if=\"totalTime>0\">\r\n      <span>{{ playData.name + \"\\t\" + playData.broadcast_date }}</span>\r\n      <el-slider\r\n          v-model=\"timeNow\"\r\n          :max=\"this.audio&&this.audio.duration&&parseInt(this.audio.duration)\"\r\n          @change=\"changeTime\">\r\n      </el-slider>\r\n      <el-row>\r\n        <el-col :span=\"20\">\r\n          <span>{{ parseInt(timeNow) |formTime }}</span>\r\n        </el-col>\r\n        <el-col :span=\"4\" style=\"text-align: right\">\r\n          <span>{{ parseInt(totalTime) |formTime }}</span>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row style=\"margin-top: 5px\">\r\n        <el-col>\r\n          <el-button @click=\"tui\">快退</el-button>\r\n          <el-button @click=\"curt\">{{ isPaused ? '开始' : '暂停' }}</el-button>\r\n          <el-button @click=\"kuai\">快进</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n    <el-card style=\"margin-bottom: 10px\">\r\n      <el-form :model=\"formData\">\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"频道：\">\r\n              <el-select v-model=\"formData.channeName\" @change=\"loadType()\">\r\n                <el-option v-for=\"item in channeList\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"节目名称：\">\r\n              <el-select v-model=\"formData.name\" @change=\"loadData()\">\r\n                <el-option v-for=\"item in optionsList\" :key=\"item.channelId\" :label=\"item.programName\"\r\n                           :value=\"item.channelId\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </el-card>\r\n    <el-card>\r\n      <el-table :data=\"dataList\">\r\n        <el-table-column align=\"center\" prop=\"channel_name\" label=\"频道\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"name\" label=\"节目名称\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"broadcast_date\" label=\"日期\"></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"success\" @click=\"play(scope.row)\">播放</el-button>\r\n            <!--            <el-button type=\"success\" @click=\"downLoad(scope.row)\">下载</el-button>-->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <page :pagination=\"pagination\" @refresh=\"loadData\"></page>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport axios from 'axios'\r\nimport page from '@/components/page/page'\r\n\r\nexport default {\r\n  name: \"index\",\r\n  components: {\r\n    page\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      channeList: [\r\n        {name: \"中国之声\", value: 1},\r\n        {name: \"经济之声\", value: 2},\r\n        {name: \"中华之声\", value: 3},\r\n        {name: \"音乐之声\", value: 4},\r\n        {name: \"都市之声\", value: 5},\r\n        {name: \"神州之声\", value: 6},\r\n        {name: \"香港之声\", value: 7},\r\n        {name: \"民族之声\", value: 8},\r\n        {name: \"文艺之声\", value: 9},\r\n        {name: \"老年之声\", value: 10},\r\n        {name: \"高速广播\", value: 11},\r\n        {name: \"藏语广播\", value: 12},\r\n        {name: \"维语广播\", value: 13},\r\n        {name: \"娱乐广播\", value: 14},\r\n        {name: \"华夏之声\", value: 17},\r\n        {name: \"哈语广播\", value: 24},\r\n      ],\r\n      formData: {\r\n        channeName: 9\r\n      },\r\n      optionsList: [],\r\n      timeNow: 0,\r\n      dataList: [],\r\n      audio: null,\r\n      totalTime: 0,\r\n      playData: {},\r\n      isPaused: false,\r\n      pagination: {pageSize: 100, pageNum: 1, total: 0},\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    loadType() {\r\n      this.formData.name = \"\"\r\n      this.dataList = []\r\n      // axios.get(\"/pcpages/liveSchedules\", {\r\n      //   params: {\r\n      //     channel_id: this.formData.channeName\r\n      //   }\r\n      // }).then(res => {\r\n      //   this.optionsList = res.data.data.program\r\n      // })\r\n\r\n      this.$jsonp('http://tacc.radio.cn/pcpages/liveSchedules', {\r\n        channel_id: this.formData.channeName,\r\n      }).then(res => {\r\n        this.optionsList = res.data.program\r\n      })\r\n    },\r\n    loadData(needPageOne) {\r\n      if (!needPageOne) this.pagination.pageNum = 1\r\n\r\n      this.$jsonp('http://tacc.radio.cn/pcpages/searchs/livehistory', {\r\n        channelname: this.formData.channeName,\r\n        name: this.formData.name,\r\n        start: this.pagination.pageNum,\r\n        rows: this.pagination.pageSize,\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.dataList = res.passprogram\r\n        this.pagination.total = res.total\r\n      })\r\n      // axios.get('/pcpages/searchs/livehistory', {\r\n      //       params: {\r\n      //         channelname: this.formData.channeName,\r\n      //         name: this.formData.name,\r\n      //         start: this.pagination.pageNum,\r\n      //         rows: this.pagination.pageSize,\r\n      //       }\r\n      //     }\r\n      // ).then(res => {\r\n      //   res = res.data;\r\n      //   if (typeof (res) == \"string\" && res.startsWith('(')) {\r\n      //     res = JSON.parse(res.substring(1, res.length - 1))\r\n      //   }\r\n      //   this.dataList = res.passprogram\r\n      //   this.pagination.total = res.total\r\n      // })\r\n    },\r\n    downLoad(row) {\r\n      this.downLoadFileReName('/audio2020' + row.stream_url1, row.name + \"\\t\" + row.broadcast_date + \".m4a\")\r\n    },\r\n    downLoadFileReName(url, filename) {\r\n\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', url, true);\r\n      xhr.responseType = 'blob';\r\n      xhr.onload = () => {\r\n        if (xhr.status === 200) {\r\n          var blob = xhr.response\r\n          if (window.navigator.msSaveOrOpenBlob) {\r\n            navigator.msSaveBlob(blob, filename);\r\n          } else {\r\n            const link = document.createElement('a');\r\n            const body = document.querySelector('body');\r\n            link.href = window.URL.createObjectURL(blob);\r\n            link.download = filename;\r\n            link.style.display = 'none';\r\n            body.appendChild(link);\r\n            link.click();\r\n            body.removeChild(link);\r\n            window.URL.revokeObjectURL(link.href);\r\n          }\r\n        }\r\n      };\r\n      xhr.send();\r\n    },\r\n    play(row) {\r\n      this.playData = row\r\n      if (!this.audio) {\r\n        this.audio = new Audio()\r\n        this.audio.addEventListener(\"timeupdate\", () => {\r\n          this.totalTime = this.audio.duration;\r\n          if (parseInt(this.timeNow) >= parseInt(this.totalTime)) {\r\n            const index = this.dataList.findIndex(item => {\r\n              return item.id = row.id\r\n            })\r\n            this.play(this.dataList[index + 1])\r\n          }\r\n        });\r\n      }\r\n      this.audio.src=`http://${row.stream_domain1}${row.stream_url1}`;\r\n      console.log(this.audio.src)\r\n      this.audio.play();\r\n      clearInterval(this.time)\r\n      this.time = setInterval(() => {\r\n        this.timeNow = this.audio.currentTime\r\n      }, 10)\r\n    },\r\n    kuai() {\r\n      if (this.audio.currentTime < this.totalTime)\r\n        this.audio.currentTime += 10\r\n    },\r\n    tui() {\r\n      if (this.audio.currentTime > 10)\r\n        this.audio.currentTime -= 10\r\n      else {\r\n        this.audio.currentTime = 0\r\n      }\r\n    },\r\n    curt() {\r\n      this.isPaused = !this.isPaused\r\n      if (this.isPaused) {\r\n        this.audio.pause()\r\n      } else {\r\n        this.audio.play()\r\n      }\r\n    },\r\n    changeTime() {\r\n      this.audio.currentTime = this.timeNow\r\n    }\r\n  },\r\n  filters: {\r\n    formTime(val) {\r\n      if (val < 60) {\r\n        return `${val}秒`\r\n      } else {\r\n        return `${parseInt(val / 60)}分${val % 60}秒`\r\n      }\r\n    },\r\n  },\r\n  activated() {\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n    this.loadType()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\" rel=\"stylesheet/less\">\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66d8ce26&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66d8ce26\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}