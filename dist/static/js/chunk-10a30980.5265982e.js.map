{"version":3,"sources":["webpack:///./src/views/draggable/index.vue?f29d","webpack:///src/views/draggable/index.vue","webpack:///./src/views/draggable/index.vue?7bce","webpack:///./src/views/draggable/index.vue","webpack:///./src/views/draggable/index.vue?209d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","stopPropagation","preventDefault","e","chooselistMoveFn","apply","arguments","chooselistUpFn","_l","item","index","key","class","attrs","chooselistDownFn","_v","activeHoverElementId","staticRenderFns","name","components","props","data","computed","methods","type","changedTouches","cln","classList","add","style","top","target","offsetTop","left","offsetLeft","parentNode","insertBefore","itm","position","clientY","clientX","computedPosition","remove","Math","abs","x","width","y","height","console","log","i","alert","activated","mounted","created","component"],"mappings":"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","file":"static/js/chunk-10a30980.5265982e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index\"},[_c('div',{staticClass:\"draggable-container\",on:{\"mousemove\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistMoveFn(e); }).apply(null, arguments)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistMoveFn(e); }).apply(null, arguments)},\"mouseup\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistUpFn(e); }).apply(null, arguments)},\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistUpFn(e); }).apply(null, arguments)}}},[_c('div',{staticClass:\"draggable-element-container\"},_vm._l(([1,2,3,4]),function(item,index){return _c('div',{key:index,class:['element-item', 'start-item'],attrs:{\"id\":'start-item' + index},on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistDownFn(e, item); }).apply(null, arguments)},\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return (function (e) { return _vm.chooselistDownFn(e, item); }).apply(null, arguments)}}},[_vm._v(\" 拖我 \")])}),0),_c('div',{staticClass:\"target-element-container\"},_vm._l(([1,2,3]),function(item,index){return _c('div',{key:index,class:['element-item', 'end-item', _vm.activeHoverElementId == 'end-item' + index ? 'active-hover' : ''],attrs:{\"id\":'end-item' + index}},[_vm._v(\" 放这 \")])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n* create by zx on 2021/7/28 08:55\r\n* 类注释：\r\n* 备注：\r\n*/\r\n<template>\r\n  <div class=\"index\">\r\n    <div class=\"draggable-container\"\r\n         @mousemove.stop.prevent='e => chooselistMoveFn(e)'\r\n         @touchmove.stop.prevent='e => chooselistMoveFn(e)'\r\n         @mouseup.stop.prevent='e => chooselistUpFn(e)'\r\n         @touchend.stop.prevent='e => chooselistUpFn(e)'>\r\n      <div class=\"draggable-element-container\">\r\n        <div\r\n            :id=\"'start-item' + index\"\r\n            :class=\"['element-item', 'start-item']\"\r\n            v-for=\"(item, index) in [1,2,3,4]\"\r\n            :key=\"index\"\r\n            @mousedown.stop.prevent=\"e => chooselistDownFn(e, item)\"\r\n            @touchstart.stop.prevent=\"e => chooselistDownFn(e, item)\"\r\n        >\r\n          拖我\r\n        </div>\r\n      </div>\r\n      <div class=\"target-element-container\">\r\n        <div\r\n            :id=\"'end-item' + index\"\r\n            :class=\"['element-item', 'end-item', activeHoverElementId == 'end-item' + index ? 'active-hover' : '']\"\r\n            v-for=\"(item, index) in [1,2,3]\"\r\n            :key=\"index\">\r\n          放这\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n  name: \"index\",\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      activeHoverElementId: ''\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    chooselistDownFn(e, item) {\r\n      e = e.type === 'touchstart' ? e.changedTouches[0] : e\r\n      // 当前点击的节点\r\n      let itm = e.target\r\n      // 克隆的节点\r\n      let cln = itm.cloneNode(true)\r\n      /* 获取点击的节点相对它父元素的坐标 给克隆块绝对定位 使它们重叠 */\r\n      cln.classList.add('clone-element', 'posiA')\r\n      cln.style.top = e.target.offsetTop + 'px'\r\n      cln.style.left = e.target.offsetLeft + 'px'\r\n      e.target.parentNode.insertBefore(cln, itm)\r\n    },\r\n    chooselistMoveFn(e) {\r\n      e = e.type === 'touchmove' ? e.changedTouches[0] : e\r\n      let cln = document.querySelector('.clone-element')\r\n      // 如果有克隆块存在\r\n      if (cln) {\r\n        // 动态定位克隆的元素\r\n        cln.style.position = 'fixed'\r\n        cln.style.top = e.clientY - 35 + 'px'\r\n        cln.style.left = e.clientX - 30 + 'px'\r\n        this.computedPosition(e, 'move')\r\n      }\r\n    },\r\n    chooselistUpFn(e) {\r\n      e = e.type === 'touchend' ? e.changedTouches[0] : e\r\n      // 鼠标松开 克隆块初始化\r\n      let cln = document.querySelector('.clone-element')\r\n      if (cln) {\r\n        cln.remove()\r\n      }\r\n      this.activeHoverElementId = ''\r\n      this.computedPosition(e, 'up')\r\n    },\r\n    computedPosition(e, type) {\r\n      // 获取所有目标元素的位置，并计算触碰区域坐标\r\n      let targetELes = document.querySelectorAll('.end-item')\r\n      for (let i = 0; i < targetELes.length; i++) {\r\n        let {x, y, width, height} = targetELes[i].getBoundingClientRect()\r\n        if (Math.abs(e.clientX - x - width / 2) < width && Math.abs(e.clientY - y - height / 2) < height) {\r\n          // 进入区域了\r\n          console.log('进入区域了');\r\n          if (type === 'move') {\r\n            this.activeHoverElementId = 'end-item' + i\r\n          }\r\n          if (type === 'up') {\r\n            console.log('弹出弹窗')\r\n            alert('弹窗内容')\r\n          }\r\n          return\r\n        } else {\r\n          this.activeHoverElementId = ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  activated() {\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\" rel=\"stylesheet/less\">\r\n.draggable-container {\r\n  width: 500px;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-around;\r\n\r\n  .draggable-element-container {\r\n\r\n    .element-item {\r\n      width: 50px;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      text-align: center;\r\n      border-radius: 50%;\r\n      background: lightgreen;\r\n      margin-top: 10px;\r\n      cursor: move;\r\n    }\r\n\r\n    .element-item :hover {\r\n      opacity: 0.8;\r\n    }\r\n\r\n    .clone-element {\r\n      width: 60px;\r\n      height: 60px;\r\n      line-height: 60px;\r\n      text-align: center;\r\n      border-radius: 50%;\r\n      background: lightgreen;\r\n      position: absolute;\r\n      z-index: 2;\r\n      transition: all 0.2s linear;\r\n    }\r\n\r\n  }\r\n\r\n  .target-element-container {\r\n\r\n    .element-item {\r\n      width: 40px;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: center;\r\n      border-radius: 50%;\r\n      background: lightblue;\r\n      margin-top: 20px;\r\n      transition: transform 0.2s linear;\r\n    }\r\n\r\n    .active-hover {\r\n      transform: scale(1.5);\r\n    }\r\n\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6e437d9e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6e437d9e&scoped=true&lang=less&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e437d9e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6e437d9e&scoped=true&lang=less&rel=stylesheet%2Fless&\""],"sourceRoot":""}