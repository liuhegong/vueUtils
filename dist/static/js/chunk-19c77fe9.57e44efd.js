(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19c77fe9"],{"02c0":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"draggableTest"},[o("el-header",{staticClass:"mheader",staticStyle:{"text-align":"right"}},[o("el-button",{on:{click:function(e){t.showDialog=!t.showDialog}}},[t._v(" 查看json数据")]),o("el-button",{on:{click:function(e){t.showSetJson=!t.showSetJson}}},[t._v(" 导入Json数据")]),o("el-button",{on:{click:t.exportVueFile}},[t._v(" 导出vue文件")]),o("el-button",{directives:[{name:"copy",rawName:"v-copy",value:t.copyFile,expression:"copyFile"}],on:{click:t.copyJson}},[t._v(" 复制代码")]),o("el-button",{on:{click:t.clearPage}},[t._v(" 清空页面")]),o("el-button",{on:{click:function(e){t.showVue=!t.showVue}}},[t._v(" 运行")])],1),o("div",{staticClass:"index"},[o("div",{staticClass:"left"},[o("el-scrollbar",[o("vuedraggable",{attrs:{animation:1e3,group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},model:{value:t.buttonList,callback:function(e){t.buttonList=e},expression:"buttonList"}},[o("transition-group",t._l(t.buttonList,(function(e){return o("el-button",{key:e.labels||e.label,staticStyle:{width:"70px","margin-top":"20px"},attrs:{eType:e.eType,size:"mini"}},[t._v(" "+t._s(e.labels||e.label)+" ")])})),1)],1)],1)],1),o("div",{ref:"efContainer",staticClass:"center"},[o("el-scrollbar",[o("el-form",{ref:"elForm",attrs:{rules:t.rules,model:t.formData,"label-width":"120px","label-position":"right"}},[o("el-row",[o("vuedraggable",t._b({staticStyle:{height:"500px"},attrs:{chosenClass:"chosen"},on:{add:t.handleWidgetAdd},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},"vuedraggable",{group:"people",ghostClass:"ghost"},!1),t._l(t.list,(function(e,s){return e.noShow?t._e():o("el-col",{key:e.prop,attrs:{span:e.span,offset:e.offset},nativeOn:{click:function(o){return t.formItemClick(e)},dblclick:function(e){return t.formItemDbClick(s)}}},[o("el-form-item",{attrs:{label:e.noFormItem?"":e.label,prop:e.prop}},[o("m-element",{attrs:{item:e,"form-data":t.formData},on:{event:t.event}})],1)],1)})),1)],1)],1)],1)],1),o("div",{staticClass:"right"},[o("zx-form",{ref:"rightForm",attrs:{size:"mini",labelWidth:"120px",labelPosition:"top",formData:t.formSetData,formCols:t.formSetCols},on:{event:t.event},scopedSlots:t._u([{key:"options",fn:function(e){return[t._l(e.data.options,(function(s,l){return o("div",[o("el-row",[o("el-col",{attrs:{span:10}},[o("el-input",{attrs:{placeholder:"label"},model:{value:s.label,callback:function(e){t.$set(s,"label",e)},expression:"item.label"}})],1),o("el-col",{attrs:{span:10}},[o("el-input",{attrs:{placeholder:"value"},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}})],1),o("el-col",{attrs:{span:2,offset:2}},[o("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.data.options.splice(l,1)}}})])],1)],1)})),o("el-button",{on:{click:function(t){return e.data.options.push({label:"",value:""})}}},[t._v("新增")])]}},{key:"tableCols",fn:function(e){return[t._l(e.data.tableCols,(function(s,l){return o("div",[o("el-row",[o("el-col",{attrs:{span:10}},[o("el-input",{attrs:{placeholder:"label"},model:{value:s.label,callback:function(e){t.$set(s,"label",e)},expression:"item.label"}})],1),o("el-col",{attrs:{span:10}},[o("el-input",{attrs:{placeholder:"value"},model:{value:s.prop,callback:function(e){t.$set(s,"prop",e)},expression:"item.prop"}})],1),o("el-col",{attrs:{span:2,offset:2}},[o("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.data.tableCols.splice(l,1)}}})])],1)],1)})),o("el-button",{on:{click:function(t){return e.data.tableCols.push({label:"",prop:""})}}},[t._v("新增")])]}},{key:"tableData",fn:function(e){return[t._l(e.data.tableData,(function(s,l){return o("div",{staticStyle:{"margin-bottom":"20px"}},t._l(e.data.tableCols,(function(a,n){return o("div",[o("el-row",[o("el-col",{attrs:{span:10}},[o("div",{attrs:{placeholder:"key"}},[t._v(t._s(a.prop)+":")])]),o("el-col",{attrs:{span:10}},[o("el-input",{attrs:{placeholder:"value"},model:{value:s[a.prop],callback:function(e){t.$set(s,a.prop,e)},expression:"item[col.prop]"}})],1),o("el-col",{attrs:{span:2,offset:2}},[o("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.data.tableData.splice(l,1)}}})])],1)],1)})),0)})),o("el-button",{on:{click:function(t){return e.data.tableData.push(Object.assign({},e.data.tableCols[0]))}}},[t._v("新增")])]}}])})],1)]),o("el-dialog",{attrs:{visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[o("el-button",{directives:[{name:"copy",rawName:"v-copy",value:JSON.stringify(t.list),expression:"JSON.stringify(list)"}],on:{click:t.copyJson}},[t._v(" 复制Json")]),o("el-button",{on:{click:t.exportJson}},[t._v(" 导出Json")]),o("json-view",{attrs:{deep:"5",data:{formCols:t.list,rules:t.rules,formData:t.formData}}})],1),o("el-dialog",{attrs:{visible:t.showVue,fullscreen:!0},on:{"update:visible":function(e){t.showVue=e}}},[o("el-card",[o("m-form",{attrs:{formData:t.formData,formCols:[t.list],rules:t.rules}})],1)],1),o("el-dialog",{attrs:{visible:t.showSetJson},on:{"update:visible":function(e){t.showSetJson=e}}},[o("el-input",{attrs:{type:"textarea",rows:20},model:{value:t.jsonCols,callback:function(e){t.jsonCols=e},expression:"jsonCols"}}),o("el-button",{on:{click:t.setJsonOk}},[t._v(" 确定")])],1)],1)},l=[],a=(o("a434"),o("d8e5")),n=o("b76a"),i=o.n(n),r=o("2ed6"),c=o("1b37"),u=o.n(c),p=o("a13e"),f={name:"draggableTest",components:{vuedraggable:i.a,mElement:r["a"],jsonView:u.a,mForm:p["a"]},props:{},data:function(){return{jsonCols:"",showVue:!1,showDialog:!1,showSetJson:!1,formData:{},buttonList:a["b"],list:[],formSetData:{},formSetCols:[],formCols:[],rules:{}}},computed:{copyFile:function(){return Object(a["e"])(this.formCols,this.rules,this.formData)}},methods:{formItemClick:function(t){this.formSetCols=a["d"][t.mType||t.eType],this.formSetData=t},formItemDbClick:function(t){var e=this;this.$confirm("是否要删除此项","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.list.splice(t,1)}))},clearPage:function(){var t=this;this.$confirm("是否要清空页面","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.list=[],t.formData={},t.rules={},t.formSetCols=[]}))},event:function(t){"isRule"===t.prop&&t.value?this.$set(this.rules,t.data.prop,{required:!0,message:t.data&&t.data.tipMessage?t.data.tipMessage:"值不能为空",trigger:"blur"}):"isRule"!==t.prop||t.value||(this.$refs["elForm"].resetFields(),this.$set(this.rules,t.data.prop,{}),delete this.rules[t.data.prop])},handleWidgetAdd:function(t){var e=t.newIndex,o=JSON.parse(JSON.stringify(this.list[e]));o.prop="prop_".concat((new Date).getTime()),this.formSetData=o,this.formSetCols=a["d"][o.mType||o.eType],this.$set(this.list,e,o)},copyJson:function(){this.$message({type:"success",message:"复制成功"})},exportJson:function(){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({formCols:this.formCols,formData:this.formData,rules:this.rules},null,"\t")),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","data.json"),e.click(),e.remove(),this.$message.success("正在下载中,请稍后...")},exportVueFile:function(){var t="data:text/json;charset=utf-8,"+encodeURIComponent(Object(a["e"])(this.formCols,this.rules,this.formData)),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","form.vue"),e.click(),e.remove(),this.$message.success("正在下载中,请稍后...")},setJsonOk:function(){this.formCols=JSON.parse(this.jsonCols),this.showSetJson=!1}},activated:function(){},mounted:function(){},created:function(){}},m=f,d=(o("c5a6"),o("ee4f"),o("2877")),b=Object(d["a"])(m,s,l,!1,null,"1121ab04",null);e["default"]=b.exports},"03b0":function(t,e,o){},1517:function(t,e,o){},c5a6:function(t,e,o){"use strict";o("03b0")},ee4f:function(t,e,o){"use strict";o("1517")}}]);
//# sourceMappingURL=chunk-19c77fe9.57e44efd.js.map